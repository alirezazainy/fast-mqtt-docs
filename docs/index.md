#  **Fast-MQTT**  

![Image title](./assets/logo.png){ align=left }
توسعه یافته در [**سما کنترل**](https://samacontrol.com) :material-registered-trademark:

ماژول میکروسرویسی MQTT بر پایه RestAPI

برای دیدن [Swagger-UI](https://samacontrol.com) کلیک کنید

## **بررسی کلی**

این پیام رسان که برای استفاده از ماژول های MQTT توسعه داده شده از زبان برنامه نویسی Python و میکرو فریموورک FastAPI استفاده میکند 
تا به وسیله آنها بتواند محیط پرسرعتی به همراه تجربه کاربری متفاوت و راحت تر بر بستر یک Rest-ful API به کاربران ارائه دهد.

در واقع این ماژول کمک میکند که همزمان با ران بودن لوپ سرور و کلاینت پیام های شما به مقصد مخابره شود و به کمک تکنولوژی `Async/Await` 
اتصال به سرور را بهینه تر و پیام رسانی را سریع تر میکند تا به هنگام پیام رسانی تعداد خطاهای کمتری تجربه بکنیم.

!!! warning "نکته مهم"

    لطفا برای احترام به توسعه دهندگان از **ایجاد تغییرات بی مورد** و **سوء استفاده** بپرهیزید؛ در غیر اینصورت مورد **پیگرد 
    قانونی** قرار خواهید گرفت !

## **چرا پایتون و چرا FastAPI**

### **چرا پایتون ؟**
 - _اسناد [**پایتون**](https://docs.python.org/3/)_

با توجه به این که زبان برنامه نویسی پایتون به صورت همه جانبه برای دسترسی به انواع کتابخانه ها و طراحی متنوع ویژگی ها در صورت نیاز 
به آنها  ساخته شده و نیاز ما در این پروژه استفاده از ماژول های شخصی سازی شده می باشد تصمیم بر این گرفته شد که این میکروماژول به زبان پایتون نوشته شود.

این زبان علاوه بر این ویژگی ها یک ویژگی مهم دیگر نیز به همراه خود دارد که این ویژگی قابلیت معماری پذیری این زبان برنامه نویسی میباشد؛ از دیگر ویژگی های بسیار
مورد توجه آن نیز میتوان به داشتن میکروفریموورک FastAPI اشاره کرد.

??? info "چرا Rest-ful API ؟"

    با توجه به اینکه این نرم افزار نیاز به اجرای تعدادی ماژول داخلی بر پایه منطق برنامه نویسی Back-End و ارتباط دائم برای هماهنگی با دیتابیس دارد از سبک معماری
    Rest-ful API برای نوشتن این میکروماژول استفاده شد.

### **چرا FastAPI ؟**
 - _اسناد [**FastAPI**](https://fastapi.tiangolo.com/)_

ابتدا باید بررسی کنیم ما از این پروژه ای که بر پایه Rest-ful میخواهیم توسعه دهیم به چه چیز هایی نیاز دارد یا ما از آن چه چیزی میخواهیم ؟

!!! abstract " سرعت"
    اولین و مهم ترین عاملی که ما باید برای این پروژه در نظر بگیریم سرعت بازگردانی Response در این پروژه می باشد، به این صورت که این نرم افزار 
    با توجه به استفاده از ماژول MQTT که سرعت بسیار زیادی برای پیامرسانی دارد، نیاز به یک فریموورک پر سرعت در پاسخگویی ها داشتیم که FastAPI در فراخوانی های 
    مرتبط به پروژه های کوچک سرعت زیادی دارد و از این رو انتخاب ما برای توسعه Fast-MQTT شد.

!!! abstract "حجم بسیار کم"
    یک از عوامل مهم در بهینه بودن نرم افزار کم حجم بودن آن نسبت به کاری که انجام میدهد می باشد، با توجه به اینکه تکنولوژی FastAPI 
    حجم بسیار کمی را در برمیگیرد بهترین گزینه برای توسعه این میکروماژول به حساب می آمد.

!!! abstract "ماژولار بودن"
    با توجه به اینکه خود میکروفریموورک FastAPI از معماری خاصی پیروی نمیکند میتوانست بهترین گزینه برای توسعه دهنده ای باشد که با توجه به 
    ماژول های مورد استفاده در نرم افزار معماری خود را انتخاب میکند؛ همچنین این موضوع برای این میکروفریموورک باعث استفاده از دیزاین پترن های متفاوتی 
    برای نرم افزار می شود.

## **با OAuth2 امن تر از همه جا**
- _اسناد [**OAuth2**](https://datatracker.ietf.org/doc/html/rfc6749)_

OAuth2 یک مشخصات فنی است که چندین روش برای مدیریت احراز هویت و مجوز را تعریف می‌کند.

این مشخصات بسیار گسترده است و موارد استفاده پیچیده‌ای را پوشش می‌دهد.

یکی از موارد آن، امکان احراز هویت با استفاده از "ویژگی احراز سوم شخص" است.

تمام سیستم‌هایی که از "ورود با فیسبوک، گوگل، توییتر، گیت‌هاب" استفاده می‌کنند، در زیرساخت خود از این روش بهره می‌برند.

## **ماژول های افزونه مورد استفاده**

### **Paho-Mqtt** 
- _اسناد [**Paho-Mqtt**](https://eclipse.dev/paho/)_



Paho-MQTT یک کتابخانه نرم‌افزاری متن‌باز و پرکاربرد است که برای پیاده‌سازی پروتکل MQTT در زبان‌های برنامه‌نویسی مختلف از جمله پایتون طراحی شده است. MQTT یک پروتکل سبک‌وزن و منتشر-مشترک است که به طور گسترده در اینترنت اشیا (IoT) و سیستم‌های تعبیه‌شده برای ارتباط بین دستگاه‌ها استفاده می‌شود.

- ویژگی‌های کلیدی Paho-MQTT:

    * پشتیبانی از نسخه‌های مختلف MQTT: Paho-MQTT از نسخه‌های مختلف پروتکل MQTT از جمله MQTT 5.0، 3.1.1 و 3.1 پشتیبانی می‌کند.

    * سادگی استفاده: این کتابخانه رابط کاربری ساده و روانی دارد که به توسعه‌دهندگان اجازه می‌دهد به‌راحتی به یک بروکر MQTT متصل شوند، پیام‌ها را منتشر کنند و به موضوعات مختلف مشترک شوند.

    * قابلیت اطمینان: Paho-MQTT مکانیزم‌های مختلفی برای اطمینان از قابلیت اطمینان ارتباطات، مانند مکانیزم‌های بازاتصال خودکار و تایید دریافت پیام‌ها، ارائه می‌دهد.

    * پلتفرم‌های پشتیبانی شده: این کتابخانه برای پلتفرم‌های مختلف از جمله ویندوز، لینوکس و macOS قابل استفاده است.

    * جامعه بزرگ: Paho-MQTT یک پروژه متن‌باز با یک جامعه بزرگ از توسعه‌دهندگان است که به این معنی است که شما می‌توانید به راحتی به منابع و پشتیبانی دسترسی پیدا کنید.

- کاربردهای Paho-MQTT:

    * اینترنت اشیا (IoT): برای ارتباط بین دستگاه‌های IoT و جمع‌آوری داده‌ها از آن‌ها.

    * سیستم‌های نظارت: برای جمع‌آوری داده‌ها از سنسورها و نمایش آن‌ها در یک داشبورد.

    * اتوماسیون خانگی: برای کنترل دستگاه‌های هوشمند در خانه.

    * سیستم‌های پیام‌رسانی: برای ایجاد سیستم‌های پیام‌رسانی سبک‌وزن و مقیاس‌پذیر.

در کل، Paho-MQTT یک ابزار قدرتمند و محبوب برای توسعه‌دهندگانی است که می‌خواهند از پروتکل MQTT در پروژه‌های خود استفاده کنند. سادگی استفاده، قابلیت اطمینان و جامعه بزرگ آن از جمله 
دلایلی است که Paho-MQTT را به یک انتخاب محبوب تبدیل کرده است.